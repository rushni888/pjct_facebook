{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/log_style.css' %}">  
    <!-- <script type="text/javascript" src="{% static 'js/loginvalidation.js' %}"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="{% static 'js/jqueryvalidation.js' %}"></script>
</head>
<body>
    <!-- Login form -->
    <h2>Login Page</h2><br> 
    <!-- <form class="loginform"  onsubmit="return validation()"> -->
        <form class="loginform" id="logform" method="POST" action="login">
            {% csrf_token %}
    <!-- Username  -->
        <label>User Name</label>    
        <input type="text" name="uname" id="uname" class="textboxes" placeholder="Username "><br>
    <!-- error display for username -->
        <small  id="err_username"></small>   
        <br><br>  
    <!-- Password  -->  
        <label>Password</label>    
        <input type="Password" name="pass" id="pass" class="textboxes" placeholder="Password"><br> 
    <!-- error display for password -->
        <small id="err_pass"></small>   
        <br><br>
    <!-- remember me checkbox -->
        <input type="checkbox" id="check">    
        <label id="checklabel">Remember me</label>    
        <br><br>  
    <!-- form submit button  -->
        <input type="submit" name="log" id="log" value="Log In Here" >       
        <br><br>
    <!-- forgot password link -->
    <small id="err_msg" style="float: left;">{{ msg }}</small>  
        <a href="#"> Forgot Password</a>    
    </form>
    <script>
        $(function(){
            var username = $("#uname")
            status=0
            $("#form").submit(function(){
                if(status==1){
                    return true
                }
           else{
               return false
            }
         })
         username.blur(function(){
             checkusername()

})
function checkusername(){          
      if(username.val()==""){
            $("#erruname").text("enter username")
            $("#erruname").css("color","red")
            username.css("border","1px solid red")
             status=0
        }

         else if(emailvalidate(username.val())==false){

            $("#erruname").text("enter valid email")
            $("#erruname").css("color","red")
            username.css("border","1px solid red")
             status=0
            
        }

        else{
     $("#erruname").css("visibility","hidden")
    username.css("border","1px solid black")
    // alert("hi")
    status=1;
    }
}
function emailvalidate(username){
    var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/

    if(regex.test(username)) {
    // status=0
    // alert("enter valid email")
    return true

  }else{
     return false
    
  } 
}
        })
</script>
    
</body>    
</html>
  
    